(function(t){function r(r){for(var n,a,c=r[0],s=r[1],u=r[2],f=0,l=[];f<c.length;f++)a=c[f],o[a]&&l.push(o[a][0]),o[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);v&&v(r);while(l.length)l.shift()();return i.push.apply(i,u||[]),e()}function e(){for(var t,r=0;r<i.length;r++){for(var e=i[r],n=!0,c=1;c<e.length;c++){var s=e[c];0!==o[s]&&(n=!1)}n&&(i.splice(r--,1),t=a(a.s=e[0]))}return t}var n={},o={app:0},i=[];function a(r){if(n[r])return n[r].exports;var e=n[r]={i:r,l:!1,exports:{}};return t[r].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=t,a.c=n,a.d=function(t,r,e){a.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,r){if(1&r&&(t=a(t)),8&r)return t;if(4&r&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var n in t)a.d(e,n,function(r){return t[r]}.bind(null,n));return e},a.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(r,"a",r),r},a.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},a.p="/gaussian-process-vue/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=r,c=c.slice();for(var u=0;u<c.length;u++)r(c[u]);var v=s;i.push([0,"chunk-vendors"]),e()})({0:function(t,r,e){t.exports=e("cd49")},"034f":function(t,r,e){"use strict";var n=e("c21b"),o=e.n(n);o.a},"2cb6":function(t,r,e){},"5def":function(t,r,e){},b7f0:function(t,r,e){"use strict";var n=e("2cb6"),o=e.n(n);o.a},c21b:function(t,r,e){},ca14:function(t,r,e){"use strict";var n=e("5def"),o=e.n(n);o.a},cd49:function(t,r,e){"use strict";e.r(r);e("cadf"),e("551c"),e("097d");var n=e("2b0e"),o=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{attrs:{id:"app"}},[e("GaussianProcess",{attrs:{width:"600",height:"400"}})],1)},i=[],a=e("c665"),c=e("dc0a"),s=e("d328"),u=e("11d9"),v=e("9ab4"),f=e("60a3"),l=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",[e("svg",{attrs:{width:t.width,height:t.height},on:{click:t.addPoint,mouseenter:function(r){t.showCursorPos=!0},mouseleave:function(r){t.showCursorPos=!1},mousemove:t.setCursorPos}},[e("line",{attrs:{x1:"0",y1:t.viewPort.yorig,x2:t.width,y2:t.viewPort.yorig,stroke:"#333","stroke-width":"1px","shape-rendering":"crispEdges"}}),e("line",{attrs:{x1:t.viewPort.xorig,y1:"0",x2:t.viewPort.xorig,y2:t.height,stroke:"#333","stroke-width":"1px","shape-rendering":"crispEdges"}}),e("PredictionCurve",{attrs:{x:t.prediction.x,y:t.prediction.y,e:t.prediction.e,viewPort:t.viewPort}}),t._l(t.viewPoints,function(t){return e("circle",{key:t.id,attrs:{r:"2",cx:t.x,cy:t.y}})}),e("text",{attrs:{x:"10",y:"30"}},[t._v(t._s(t.cursorPosStr))])],2),e("p",[e("label",[t._v("t: "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.t,expression:"t"}],attrs:{type:"number"},domProps:{value:t.t},on:{input:function(r){r.target.composing||(t.t=r.target.value)}}})]),e("label",[t._v("Î²: "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.beta,expression:"beta"}],attrs:{type:"number"},domProps:{value:t.beta},on:{input:function(r){r.target.composing||(t.beta=r.target.value)}}})]),e("input",{attrs:{type:"button",value:"clear"},on:{click:function(r){t.points=[]}}}),e("input",{attrs:{type:"button",value:"optimize"},on:{click:t.optimization}})])])},h=[],p=(e("4dda"),e("9393")),d=e("aa9a"),y=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("g",[e("path",{attrs:{d:t.mean,id:"mean"}}),e("path",{attrs:{d:t.confidence,id:"confidence"}})])},b=[],w=function(t){function r(){return Object(a["a"])(this,r),Object(s["a"])(this,Object(u["a"])(r).apply(this,arguments))}return Object(d["a"])(r,[{key:"mean",get:function(){for(var t=this.x.length,r=this.viewPort.view(this.x[0],this.y[0]),e=Object(p["a"])(r,2),n=e[0],o=e[1],i="M".concat(n," ").concat(o),a=1;a<t;a++){var c=this.viewPort.view(this.x[a],this.y[a]),s=Object(p["a"])(c,2);n=s[0],o=s[1],i+=" L".concat(n," ").concat(o)}return i}},{key:"confidence",get:function(){for(var t=this,r=this.x,e=this.y.map(function(r,e){return r-t.e[e]}),n=this.x.slice(),o=this.y.map(function(r,e){return r+t.e[e]}),i=r.length,a=this.viewPort.view(r[0],e[0]),c=Object(p["a"])(a,2),s=c[0],u=c[1],v="M".concat(-1," ").concat(u," L").concat(s," ").concat(u),f=1;f<i;f++){var l=this.viewPort.view(r[f],e[f]),h=Object(p["a"])(l,2);s=h[0],u=h[1],v+="L".concat(s," ").concat(u)}v+="L".concat(this.viewPort.width+2," ").concat(u);for(var d="",y=i-1;y>=0;y--){var b=this.viewPort.view(n[y],o[y]),w=Object(p["a"])(b,2);s=w[0],u=w[1],d+="L".concat(s," ").concat(u)}return"".concat(v," ").concat(d," Z")}}]),Object(c["a"])(r,t),r}(f["c"]);v["a"]([Object(f["b"])()],w.prototype,"x",void 0),v["a"]([Object(f["b"])()],w.prototype,"y",void 0),v["a"]([Object(f["b"])()],w.prototype,"e",void 0),v["a"]([Object(f["b"])()],w.prototype,"viewPort",void 0),w=v["a"]([f["a"]],w);var g=w,x=g,O=(e("ca14"),e("2877")),P=Object(O["a"])(x,y,b,!1,null,"167f2613",null);P.options.__file="PredictionCurve.vue";var j=P.exports;function m(t,r){if(t.length!==r*r)throw new Error("n * n should be equal to a.length");for(var e=new Float64Array(r*r),n=0;n<r;n++){for(var o=0,i=0;i<n;i++){var a=e[r*n+i];o+=a*a}var c=Math.sqrt(t[r*n+n]-o);e[r*n+n]=c;for(var s=n+1;s<r;s++){for(var u=0,v=0;v<n;v++){var f=e[r*s+v],l=e[r*n+v];u+=f*l}e[r*s+n]=(t[r*s+n]-u)/c}}return e}function _(t,r){for(var e=r.length,n=new Float64Array(e),o=0;o<e;o++){for(var i=0,a=0;a<o;a++)i+=t[e*o+a]*n[a];n[o]=(r[o]-i)/t[e*o+o]}return n}function k(t,r){for(var e=r.length,n=new Float64Array(e),o=e-1;o>=0;o--){for(var i=0,a=e-1;a>o;a--)i+=t[e*a+o]*n[a];n[o]=(r[o]-i)/t[e*o+o]}return n}function F(t,r){var e=_(t,r),n=k(t,e);return n}function A(t,r){for(var e=new Float64Array(r*r),n=0;n<r;n++){var o=new Float64Array(r);o[n]=1;for(var i=_(t,o),a=k(t,i),c=0;c<r;c++)e[r*c+n]=a[c]}return e}function C(t,r){return t.map(function(t,e){return t-r[e]})}function M(t,r,e){for(var n=new Float64Array(e*e),o=0;o<e;o++)for(var i=0;i<e;i++){for(var a=0,c=0;c<e;c++)a+=t[e*o+c]*r[e*c+i];n[e*o+i]=a}return n}function N(t,r){for(var e=t.length,n=0,o=0;o<e;o++)n+=t[o]*r[o];return n}function S(t,r,e){var n=t-r;return Math.exp(n*n*-e)}function E(t,r,e){var n=t-r;return-Math.exp(n*n*-e)*(n*n)}function L(t,r,e){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,i=t.length,a=new Float64Array(i*i),c=0;c<i;c++)for(var s=0;s<i;s++)a[i*c+s]=S(t[c],t[s],n)+(c===s?1/o:0);for(var u=m(a,i),v=F(u,r),f=e.length,l=new Float64Array(f),h=new Float64Array(f),p=0;p<f;p++){for(var d=new Float64Array(i),y=0;y<i;y++)d[y]=S(t[y],e[p],n);var b=_(u,d);l[p]=N(d,v),h[p]=S(e[p],e[p],n)+1/o-N(b,b)}return[l,h]}function z(t,r){for(var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.05,i=t.length,a=1,c=0;c<n;c++){for(var s=new Float64Array(i*i),u=new Float64Array(i*i),v=0;v<i;v++)for(var f=0;f<i;f++)s[i*v+f]=S(t[v],t[f],a)+(v===f?1/e:0),u[i*v+f]=E(t[v],t[f],a);for(var l=m(s,i),h=F(l,r),p=new Float64Array(i*i),d=0;d<i;d++)for(var y=0;y<i;y++)p[i*d+y]=h[d]*h[y];for(var b=A(l,i),w=M(C(p,b),u,i),g=0,x=0;x<i;x++)g+=w[i*x+x];a+=g*o}return a}var $=function(){function t(r,e,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r/2,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e/2;Object(a["a"])(this,t),this.width=r,this.height=e,this.xscale=n,this.yscale=o,this.xorig=i,this.yorig=c}return Object(d["a"])(t,[{key:"view",value:function(t,r){var e=t*this.xscale+this.xorig,n=r*-this.yscale+this.yorig;return[e,n]}},{key:"actual",value:function(t,r){var e=(t-this.xorig)/this.xscale,n=(r-this.yorig)/-this.yscale;return[e,n]}}]),t}(),G=function(t){function r(){var t;return Object(a["a"])(this,r),t=Object(s["a"])(this,Object(u["a"])(r).apply(this,arguments)),t.viewPort=new $(t.width,t.height,100,100),t.points=[],t.t=3,t.beta=30,t.N=200,t.cursor={x:0,y:0},t.showCursorPos=!1,t}return Object(d["a"])(r,[{key:"addPoint",value:function(t){var r=this.viewPort.actual(t.offsetX,t.offsetY),e=Object(p["a"])(r,2),n=e[0],o=e[1];this.points.push({x:n,y:o})}},{key:"setCursorPos",value:function(t){var r=this.viewPort.actual(t.offsetX,t.offsetY),e=Object(p["a"])(r,2);this.cursor.x=e[0],this.cursor.y=e[1]}},{key:"optimization",value:function(){for(var t=this.points.length,r=new Float64Array(t),e=new Float64Array(t),n=0;n<t;n++)r[n]=this.points[n].x,e[n]=this.points[n].y;var o=z(r,e,this.beta,100,.1);isNaN(o)?console.warn("failed to perform optimization"):this.t=o}},{key:"viewPoints",get:function(){var t=this;return this.points.map(function(r,e){var n=t.viewPort.view(r.x,r.y),o=Object(p["a"])(n,2),i=o[0],a=o[1];return{x:i,y:a,id:e}})}},{key:"cursorPosStr",get:function(){return this.showCursorPos?"x: ".concat(this.cursor.x.toFixed(4)," y: ").concat(this.cursor.y.toFixed(4)):""}},{key:"prediction",get:function(){for(var t=new Float64Array(this.N),r=0;r<this.N;r++)t[r]=this.viewPort.width/this.viewPort.xscale*(r/(this.N-1)-.5);for(var e=this.points.length,n=new Float64Array(e),o=new Float64Array(e),i=0;i<e;i++)n[i]=this.points[i].x,o[i]=this.points[i].y;var a=L(n,o,t,this.t,this.beta),c=Object(p["a"])(a,2),s=c[0],u=c[1];return{x:t,y:s,e:u}}}]),Object(c["a"])(r,t),r}(f["c"]);v["a"]([Object(f["b"])()],G.prototype,"width",void 0),v["a"]([Object(f["b"])()],G.prototype,"height",void 0),G=v["a"]([Object(f["a"])({components:{PredictionCurve:j}})],G);var T=G,q=T,J=(e("b7f0"),Object(O["a"])(q,l,h,!1,null,"0030c18e",null));J.options.__file="GaussianProcess.vue";var X=J.exports,Y=function(t){function r(){return Object(a["a"])(this,r),Object(s["a"])(this,Object(u["a"])(r).apply(this,arguments))}return Object(c["a"])(r,t),r}(f["c"]);Y=v["a"]([Object(f["a"])({components:{GaussianProcess:X}})],Y);var Z=Y,B=Z,D=(e("034f"),Object(O["a"])(B,o,i,!1,null,null,null));D.options.__file="App.vue";var H=D.exports;n["default"].config.productionTip=!1,new n["default"]({render:function(t){return t(H)}}).$mount("#app")}});
//# sourceMappingURL=app.b6e95878.js.map